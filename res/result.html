<!DOCTYPE html>
<html lang='en'>
	<head>
	<script src='https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js'></script>
	<script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js'></script>
	<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css' integrity='sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7' crossorigin='anonymous'>
	</head>
	<body>
		<div ng-app="newApp" ng-controller="newCtrl">
			<div ng-repeat="class in data">
				<table class='table table-striped' style='background-color:{%getColour()%}'>
					<thead><tr><th>Class {%class.name%}</th></tr></thead>
					<tbody>
						<tr ng-repeat="method in class.methods.error">
							<td colspan='3' style='background-color:#ca6059'>
								<table style='width:100%;background-color:#ca6059'>
									<tr style='background-color:#ca6059'>
										<td style='width:34%;background-color:#ca6059'>
											<div>
												<button type='button' class='btn btn-danger' data-toggle='collapse' data-target='#demo{%method.name%}{%$index%}' ng-onclick="">err</button>{%method.name%}
											</div>
										</td>
										<td style='width:33%;background-color:#ca6059'>{%method.cause%}</td>
										<td style='width:33%;background-color:#ca6059'>{%method.msg%}	</td>
									</tr>
									<tr style='background-color:#ca6059'>
										<td colspan='3'>
											<div id='demo{%method.name%}{%$index%}' class='collapse'>{%method.trace%}</div>
										</td>
									</tr>
								</table>
							</td>
						</tr>
						<tr ng-repeat="method in class.methods.ok">
							<td colspan='2' style='width:67%;background-color:#4caf50' colspan='2' >{%method.name%}</td>
							<td style='background-color:#4caf50'>{%method.time%}</td>
						</tr>
						<tr ng-repeat="method in class.methods.avoid">
							<td colspan='2' style='width:67%;background-color:#8181F7' colspan='2' >{%method.name%}</td>
							<td style='background-color:#8181F7'>{%method.reason%}</td>
						</tr>
					</tbody> 
				</table>
    		</div>
		</div>
	</body>
	<script>
	var mod = angular.module('newApp', []).config(function($interpolateProvider) {
		    $interpolateProvider.startSymbol('{%');
		    $interpolateProvider.endSymbol('%}');
      });
      mod.controller("newCtrl",['$scope', '$timeout',  '$http', '$interval', function($scope, $timeout, $http, $interval){
    	$scope.data = {"classes":{"name":"className","methods":{"ok":[{"name":"methodName1","time":2.42}],"error":[{"name":"methodName2","cause":"ExceptionException","msg":"ExceptionException", "trace":"traszatraza\ntrazatraza"},{"name":"methodName3","cause":"ExceptionException","msg":"ExceptionException", "trace":"traszatraza\ntrazatraza"}],"avoid":[{"name":"methodName3","reason":"Unavaliable"}]}}};
    	$scope.getColour = function(){
    		return $scope.data.classes.methods.error.length > 0? "red": "green";
    	}
      }]
    );
	</script>
	<script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js' integrity='sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS' crossorigin='anonymous'></script>
</html>